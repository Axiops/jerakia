<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Jerakia</title>
    
    <link rel="stylesheet" href="/css/minimal.css">
    <link rel="stylesheet" href="/css/pygment_trac.css">
    <script src="/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <headercontainer>
        <header>
        <h1>Jerakia</h1>
        <p>A versatile data lookup system</p>
        <ul>
          <li><a href="https://rubygems.org/gems/jerakia/">Download <strong>Gem</strong></a></li>
          <li><a href="https://github.com/crayfishx/jerakia">View On <strong>GitHub</strong></a></li>
          <li><a href="https://forge.puppetlabs.com/crayfishx/jerakia">Install with<strong>Puppet</strong></a></li>
        </ul>
        </header>
        <menusection>
        <li><a href="/">Home</a></li>
        <br/>
        <li><a href="/basics">Basics</a></li>
        <ul>
          <li><a href="/basics/install">Installing</a></li>
          <li><a href="/basics/configure">Configuring</a></li>
          <li><a href="/basics/lookups">Understanding Jerakia Lookups</a></li>
          <li><a href="/basics/cli">Command line interface</a></li>
        </ul>
        <li><a href="/tutorial/">Quickstart Tutorial</a></li>
        <ul>
          <li><a href="/tutorial/installing">Installing Jerakia</a></li>
          <li><a href="/tutorial/config">Configuring</a></li>
          <li><a href="/tutorial/policy">Writing a policy</a></li>
          <li><a href="/tutorial/lookup">Writing a lookup</a></li>
          <li><a href="/tutorial/data">Populating data</a></li>
          <li><a href="/tutorial/command1">Running the jerakia command</a></li>
          <li><a href="/tutorial/override">Overriding data in the hierarchy</a></li>
          <li><a href="/tutorial/puppet">Integrating with Puppet</a></li>
        </ul>
        <li><a href="/lookups">Lookups</a></li>
        <ul>
          <li><a href="/lookups/plugins">Using lookup plugins</a></li>
          <li><a class="pending" href="/pending">Hiera lookup plugin</a></li>
          <li><a class="pending" href="/pending">Writing custom lookup plugins</a></li>
        </ul>
        <li><a href="/datasources">Datasources</a></li>
        <ul>
          <li><a href="/datasources/file">File datasource</a></li>
          <li><a href="/datasources/http">HTTP datasource</a></li>
          <li><a href="/datasources/dummy">Dummy datasource</a></li>
          <li><a class="pending" href="/pending">Writing datasources</a></li>
        </ul>
        <li><a href="/pending">Response Filters</a></li>
        <ul>
          <li><a class="pending" href="/pending">Encryption response filter (eyaml)</a></li>
          <li><a class="pending" href="/pending">Substr response filter</a></li>
          <li><a class="pending" href="/pending">Writing your own reponse filters</a></li>
        </ul>



        </menusection>
      <footer>
      <br/><br/>
      <p>Sponsored by</p>
      <p><a href="http://www.enviatics.com"><img src="/images/logo_enviatics.png" alt="Enviatics"></a></p>
      <p><a href="http://baloise.github.io"><img src="/images/logo_baloise_Fotor.png" alt="baloise open source"></a></p>
      <br><br><br>
      <p><small>Hosted by <a href="https://pages.github.io">GitHub Pages</a></small></p>
      <p><small>Theme adapted from <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
        </headercontainer>
      <section>
        <h1 id="jerakia">Jerakia</h1>

<h2 id="about_jerakia">About Jerakia</h2>

<p>Jerakia is a pluggable hierarchical data lookup engine. It is not a database, Jerakia itself does not store any data but rather gives a single point of access to your data via a variety of back end data sources. Jerakia is inspired by Hiera, and can be used an additional backend or as a complete drop in replacement.</p>

<h2 id="data_separation">Data Separation</h2>

<p>Managing data can be a complex task. With tools such as Puppet deployed to configure your entire software stack across multiple locations and environments, deciding on what configuration options and other site specific data should be configured where becomes cumbersome within your code. Data separation refers to splitting out your site specific data from your code. You gain the ability to write and use generic modules from the public domian without needing to modify them, and complex conditional logic in your code to determine what configuration values should be in a given environment is a thing of the past.</p>

<h2 id="why_jerakia">Why Jerakia</h2>

<p>Jerakia is built on one core principle: flexibility. When you go beyond small-scale, single-customer orientated implementations into larger, more complex and diverse environments the role of modelling your data can become challenging. Some examples of these challenges include;</p>

<ul>
<li>Using a different data source for one particular application.</li>

<li>Giving a team a separate hierarchy just for their application.</li>

<li>Giving access to a subset of data to a particular user or team.</li>

<li>Enjoy the benefits of eyaml encryption without having to use YAML.</li>

<li>Dynamic hierarchy rather than hard coded it in config.</li>

<li>Separation of configuration between applications.</li>
</ul>

<p>Jerakia is a policy driven model. Policies are written in Ruby DSL which gives a high degree of flexibility in solving complex edge cases. An example of a simple Jerakia policy is;</p>
<div class='highlight'><pre><code class='language-ruby' data-lang='ruby'><span class='n'>policy</span> <span class='ss'>:default</span> <span class='k'>do</span>
  <span class='n'>lookup</span> <span class='ss'>:main</span> <span class='k'>do</span>
    <span class='n'>datasource</span> <span class='ss'>:file</span><span class='p'>,</span> <span class='p'>{</span>
      <span class='ss'>:format</span> <span class='o'>=&gt;</span> <span class='ss'>:yaml</span><span class='p'>,</span>
      <span class='ss'>:docroot</span> <span class='o'>=&gt;</span> <span class='s1'>&#39;/var/lib/jerakia/data&#39;</span><span class='p'>,</span>
      <span class='ss'>:searchpath</span> <span class='o'>=&gt;</span> <span class='o'>[</span>
        <span class='s2'>&quot;hostname/</span><span class='si'>#{</span><span class='n'>scope</span><span class='o'>[</span><span class='ss'>:certname</span><span class='o'>]</span><span class='si'>}</span><span class='s2'>&quot;</span><span class='p'>,</span>
        <span class='s2'>&quot;environment/</span><span class='si'>#{</span><span class='n'>scope</span><span class='o'>[</span><span class='ss'>:environment</span><span class='o'>]</span><span class='si'>}</span><span class='s2'>&quot;</span><span class='p'>,</span>
        <span class='s1'>&#39;common&#39;</span><span class='p'>,</span>
      <span class='o'>]</span>
    <span class='p'>},</span>
  <span class='k'>end</span>
<span class='k'>end</span></code></pre></div>
<p>Nearly everything in Jerakia is extendable and pluggable making it very easy to write and share your own extensions to Jerakia, from lookup plugins, data sources, scope handlers, output filters and more.</p>

<p>Features of Jerakia also include:</p>

<ul>
<li>YAML and JSON data source nativly included</li>

<li>HTTP REST API data source nativly included</li>

<li>hiera-eyaml style decryption of data from any data source</li>

<li>REST server API (experimental)</li>
</ul>

<h1 id="references">References</h1>

<ul>
<li><a href="http://www.craigdunn.org/2015/09/solving-real-world-problems-with-jerakia/">Blog post: Solving real world problems with Jerakia</a></li>

<li><a href="http://www.craigdunn.org/2015/09/extending-jerakia-with-lookup-plugins/">Blog post: Extending Jerakia with lookup plugins</a></li>
</ul>

<h1 id="latest_news">Latest News</h1>

<h2 id="jerakia_04_released">Jerakia 0.4 released.</h2>

<p>Jerakia 0.4 series ships with a number of bug fixes and enhancements. Also included is the <em>fragments</em> feature for the file datasource allowing large files to be split up into <em>.d</em> style structures making them easier to manage.</p>
      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>
